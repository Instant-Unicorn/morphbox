# MorphBox Security Configuration Example
# Copy this file to .env and configure for your environment
# NEVER commit the actual .env file to version control

# ====================
# AUTHENTICATION
# ====================

# Authentication mode: none, vpn, external
MORPHBOX_AUTH_MODE=external

# Authentication credentials (generate strong random values)
MORPHBOX_AUTH_USERNAME=admin
MORPHBOX_AUTH_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD

# Session token for API access (generate with: openssl rand -hex 32)
MORPHBOX_AUTH_TOKEN=

# ====================
# SSH/CONTAINER ACCESS
# ====================

# SSH password for container access (no default for security)
# Generate strong password with: openssl rand -base64 16
MORPHBOX_VM_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD

# SSH connection details
MORPHBOX_VM_HOST=localhost
MORPHBOX_VM_PORT=2222
MORPHBOX_VM_USER=morphbox

# ====================
# NETWORK SECURITY
# ====================

# Bind host (use localhost for local only, 0.0.0.0 for external)
MORPHBOX_HOST=localhost

# Allowed WebSocket origins (comma-separated)
# Add your domain if accessing from external URL
MORPHBOX_ALLOWED_ORIGINS=http://localhost:8008,http://localhost:8009

# ====================
# RATE LIMITING
# ====================

# Maximum authentication attempts before blocking
MORPHBOX_MAX_AUTH_ATTEMPTS=5

# Time window for rate limiting (milliseconds)
MORPHBOX_RATE_LIMIT_WINDOW_MS=900000

# Block duration after max attempts (milliseconds)
MORPHBOX_RATE_LIMIT_BLOCK_MS=1800000

# ====================
# SECURITY FEATURES
# ====================

# Enable security headers (recommended for production)
MORPHBOX_SECURITY_HEADERS=true

# Enable audit logging
MORPHBOX_AUDIT_LOG=true

# Maximum input length for commands (prevent DoS)
MORPHBOX_MAX_INPUT_LENGTH=10000

# ====================
# TLS/HTTPS (Future)
# ====================

# Enable HTTPS (requires certificates)
# MORPHBOX_HTTPS_ENABLED=false
# MORPHBOX_TLS_CERT_PATH=/path/to/cert.pem
# MORPHBOX_TLS_KEY_PATH=/path/to/key.pem

# ====================
# MONITORING
# ====================

# Log level: error, warn, info, debug
MORPHBOX_LOG_LEVEL=info

# Security event webhook (for alerting)
# MORPHBOX_SECURITY_WEBHOOK_URL=

# ====================
# DEVELOPMENT
# ====================

# Node environment: development, production
NODE_ENV=production

# Debug mode (NEVER enable in production)
DEBUG=false